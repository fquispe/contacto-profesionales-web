<!DOCTYPE html>
<!--
    Formulario de Perfil Profesional Completo

    Este formulario permite a los profesionales gestionar su perfil completo:
    - Datos profesionales (biograf√≠a, experiencia, idiomas, licencias, etc.)
    - Certificaciones profesionales
    - Portafolio de proyectos (m√°x. 20 proyectos con im√°genes)
    - Antecedentes (policial, penal, judicial)
    - Redes sociales

    Creado: 2025-11-15
    Actualizado: 2025-11-16

    ‚úÖ CAMBIOS RECIENTES (2025-11-16):
    - Eliminados campos de informaci√≥n personal (Nombre completo, Email, Tel√©fono, Documento de Identidad)
    - Eliminados campos de fotos de perfil (Foto Perfil, Foto Portada)
    - Implementado selector m√∫ltiple con chips para Idiomas (7 idiomas predefinidos)
    - Implementado selector m√∫ltiple con chips para M√©todos de Pago (9 m√©todos predefinidos)
    - Mejora de UX: Evita errores tipogr√°ficos, validaci√≥n de duplicados
    - Estos datos se gestionan en otro m√≥dulo del sistema
-->
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil Profesional - ServiciosPro</title>

    <!-- ‚úÖ Estilos refactorizados -->
    <link rel="stylesheet" href="assets/css/profesional.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üîß Perfil Profesional Completo</h1>
            <p id="headerSubtitle">Gestiona tu informaci√≥n profesional</p>
        </div>

        <!-- Loading State -->
        <div id="loadingContainer" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Cargando perfil...</p>
        </div>

        <!-- Main Content -->
        <div class="form-content" id="formContent">
            <!-- Alert Container -->
            <div id="alertContainer"></div>

			<div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="window.location.href='dashboard.html'">‚Üê Volver al Dashboard</button>
            </div>

            <!-- Stats Summary -->
            <div class="form-section" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));">
                <div class="form-row three-cols">
                    <div style="text-align: center;">
                        <div style="font-size: 32px; font-weight: bold; color: var(--primary-color);" id="puntuacionPlataforma">0.0</div>
                        <div style="font-size: 14px; color: var(--medium-gray);">Puntuaci√≥n Plataforma</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 32px; font-weight: bold; color: var(--success-color);" id="contadorProyectos">0/20</div>
                        <div style="font-size: 14px; color: var(--medium-gray);">Proyectos en Portafolio</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 32px; font-weight: bold; color: var(--info-color);" id="antecedentesVerificados">0/3</div>
                        <div style="font-size: 14px; color: var(--medium-gray);">Antecedentes Verificados</div>
                    </div>
                </div>
            </div>

            <!-- Tabs Navigation -->
            <div class="form-tabs">
                <button class="tab-button active" data-tab="tabBasico">üìù Datos B√°sicos</button>
                <button class="tab-button" data-tab="tabCertificaciones">üèÜ Certificaciones</button>
                <button class="tab-button" data-tab="tabPortafolio">üíº Portafolio</button>
                <button class="tab-button" data-tab="tabAntecedentes">‚úÖ Antecedentes</button>
                <button class="tab-button" data-tab="tabRedes">üåê Redes Sociales</button>
            </div>

            <!-- ========================================
                 TAB 1: DATOS B√ÅSICOS
                 ======================================== -->
            <div class="tab-content active" id="tabBasico">
                <form id="formDatosBasicos">
                    <!-- ‚úÖ ELIMINADO: Informaci√≥n Personal (Nombre, Email, Tel√©fono, Documento) -->
                    <!-- ‚úÖ ELIMINADO: Fotos de Perfil (Foto Perfil, Foto Portada) -->
                    <!-- ‚ÑπÔ∏è Estos datos se gestionan en otro m√≥dulo del sistema -->

                    <!-- Informaci√≥n Profesional -->
                    <div class="form-section">
                        <h3 class="section-title">üíº Informaci√≥n Profesional</h3>

                        <div class="form-group">
                            <label class="form-label required">Biograf√≠a Profesional</label>
                            <textarea class="form-input form-textarea" id="biografiaProfesional"
                                      placeholder="Describe tu experiencia profesional, especialidades y enfoque de trabajo..."
                                      maxlength="500"></textarea>
                            <div class="char-counter" id="contadorBiografia">0/500 caracteres</div>
                            <small style="color: var(--medium-gray);">
                                üí° Una biograf√≠a completa mejora tu puntuaci√≥n en la plataforma
                            </small>
                        </div>

                        <div class="form-row two-cols">
                            <div class="form-group">
                                <label class="form-label required">A√±os de Experiencia</label>
                                <input type="number" class="form-input" id="aniosExperiencia"
                                       placeholder="Ej: 5" min="0" max="50">
                            </div>

                            <!-- ‚úÖ ACTUALIZADO 2025-11-16: Selector m√∫ltiple de idiomas con chips -->
                            <div class="form-group">
                                <label class="form-label">Idiomas</label>
                                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                    <select class="form-input" id="idiomaSelector" style="flex: 1;">
                                        <option value="">Seleccione un idioma...</option>
                                        <option value="Espa√±ol">Espa√±ol</option>
                                        <option value="Ingl√©s">Ingl√©s</option>
                                        <option value="Portugu√©s">Portugu√©s</option>
                                        <option value="Franc√©s">Franc√©s</option>
                                        <option value="Alem√°n">Alem√°n</option>
                                        <option value="Quechua">Quechua</option>
                                        <option value="Chino Mandar√≠n">Chino Mandar√≠n</option>
                                    </select>
                                    <button type="button" class="btn btn-secondary" onclick="agregarIdioma()"
                                            style="padding: 10px 20px; white-space: nowrap;">‚ûï Agregar</button>
                                </div>
                                <div id="idiomasChips" class="chips-container">
                                    <!-- Los idiomas seleccionados aparecer√°n aqu√≠ como chips -->
                                </div>
                                <input type="hidden" id="idiomas" name="idiomas">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Licencias Profesionales</label>
                            <textarea class="form-input form-textarea" id="licenciasProfesionales"
                                      placeholder="Describe tus licencias, certificados profesionales emitidos por entidades oficiales..."
                                      style="min-height: 80px;"></textarea>
                        </div>

                        <div class="form-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="seguroResponsabilidad">
                                <label for="seguroResponsabilidad">Cuento con seguro de responsabilidad civil</label>
                            </div>
                        </div>

                        <!-- ‚úÖ ACTUALIZADO 2025-11-16: Selector m√∫ltiple de m√©todos de pago con chips -->
                        <div class="form-group">
                            <label class="form-label">M√©todos de Pago Aceptados</label>
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <select class="form-input" id="metodoPagoSelector" style="flex: 1;">
                                    <option value="">Seleccione un m√©todo de pago...</option>
                                    <option value="Efectivo">Efectivo</option>
                                    <option value="Transferencia bancaria">Transferencia bancaria</option>
                                    <option value="Yape">Yape</option>
                                    <option value="Plin">Plin</option>
                                    <option value="Tarjeta de cr√©dito">Tarjeta de cr√©dito</option>
                                    <option value="Tarjeta de d√©bito">Tarjeta de d√©bito</option>
                                    <option value="Dep√≥sito bancario">Dep√≥sito bancario</option>
                                    <option value="PayPal">PayPal</option>
                                    <option value="Contraentrega">Contraentrega</option>
                                </select>
                                <button type="button" class="btn btn-secondary" onclick="agregarMetodoPago()"
                                        style="padding: 10px 20px; white-space: nowrap;">‚ûï Agregar</button>
                            </div>
                            <div id="metodosPagoChips" class="chips-container">
                                <!-- Los m√©todos de pago seleccionados aparecer√°n aqu√≠ como chips -->
                            </div>
                            <input type="hidden" id="metodosPago" name="metodosPago">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Pol√≠tica de Cancelaci√≥n</label>
                            <textarea class="form-input form-textarea" id="politicaCancelacion"
                                      placeholder="Describe tu pol√≠tica de cancelaci√≥n de servicios..."
                                      style="min-height: 80px;"></textarea>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">üíæ Guardar Datos B√°sicos</button>
                    </div>
                </form>
            </div>
			
            <!-- ========================================
                 TAB 2: CERTIFICACIONES
                 ======================================== -->
            <div class="tab-content" id="tabCertificaciones">
                <div class="form-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <h3 class="section-title">üèÜ Certificaciones Profesionales</h3>
                            <p class="section-description">
                                Las certificaciones aumentan tu credibilidad y mejoran tu puntuaci√≥n en la plataforma
                            </p>
                        </div>
                        <button type="button" class="btn btn-primary" id="btnAgregarCertificacion">
                            ‚ûï Agregar Certificaci√≥n
                        </button>
                    </div>

                    <div id="certificacionesContainer" class="items-list">
                        <!-- Se llena din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>

            <!-- ========================================
                 TAB 3: PORTAFOLIO DE PROYECTOS
                 ======================================== -->
            <div class="tab-content" id="tabPortafolio">
                <div class="form-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <h3 class="section-title">üíº Portafolio de Proyectos</h3>
                            <p class="section-description">
                                Muestra tus mejores trabajos realizados (m√°ximo 20 proyectos, hasta 5 im√°genes por proyecto)
                            </p>
                        </div>
                        <button type="button" class="btn btn-primary" id="btnAgregarProyecto">
                            ‚ûï Agregar Proyecto
                        </button>
                    </div>

                    <div id="proyectosContainer" class="items-list">
                        <!-- Se llena din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>

            <!-- ========================================
                 TAB 4: ANTECEDENTES
                 ======================================== -->
            <div class="tab-content" id="tabAntecedentes">
                <div class="form-section">
                    <div style="margin-bottom: 20px;">
                        <h3 class="section-title">‚úÖ Antecedentes (Policial, Penal, Judicial)</h3>
                        <p class="section-description">
                            ‚ö†Ô∏è OPCIONAL pero altamente recomendado. Los antecedentes verificados mejoran significativamente tu puntuaci√≥n y generan confianza en los clientes.
                        </p>
                        <div class="alert alert-info show" style="margin-top: 15px;">
                            üí° Beneficios: +20% en puntuaci√≥n de plataforma, mayor visibilidad en b√∫squedas, badge de "Verificado"
                        </div>
                    </div>

                    <div id="antecedentesContainer" class="items-list" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));">
                        <!-- Se llena din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>

            <!-- ========================================
                 TAB 5: REDES SOCIALES
                 ======================================== -->
            <div class="tab-content" id="tabRedes">
                <div class="form-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <h3 class="section-title">üåê Redes Sociales</h3>
                            <p class="section-description">
                                Comparte tus perfiles profesionales en redes sociales para mayor alcance
                            </p>
                        </div>
                        <button type="button" class="btn btn-primary" id="btnAgregarRedSocial">
                            ‚ûï Agregar Red Social
                        </button>
                    </div>

                    <div id="redesSocialesContainer" class="items-list" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));">
                        <!-- Se llena din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         MODALES
         ======================================== -->

    <!-- Modal: Certificaci√≥n -->
    <div id="modalCertificacion" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalCertificacionTitulo">Agregar Certificaci√≥n</h3>
                <button type="button" class="modal-close" onclick="cerrarModalCertificacion()">√ó</button>
            </div>
            <div class="modal-body">
                <form id="formCertificacion" onsubmit="guardarCertificacion(event)">
                    <div class="form-group">
                        <label class="form-label required">Nombre de la Certificaci√≥n</label>
                        <input type="text" class="form-input" id="certNombre" required
                               placeholder="Ej: Certificaci√≥n AWS Solutions Architect">
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Instituci√≥n Emisora</label>
                        <input type="text" class="form-input" id="certInstitucion" required
                               placeholder="Ej: Amazon Web Services">
                    </div>

                    <div class="form-row two-cols">
                        <div class="form-group">
                            <label class="form-label">Fecha de Obtenci√≥n</label>
                            <input type="date" class="form-input" id="certFechaObtencion">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Fecha de Vigencia</label>
                            <input type="date" class="form-input" id="certFechaVigencia">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">URL del Documento</label>
                        <input type="url" class="form-input" id="certDocumentoUrl"
                               placeholder="https://...">
                        <small style="color: var(--medium-gray);">Opcional: Link al certificado digital o PDF escaneado</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Descripci√≥n</label>
                        <textarea class="form-input form-textarea" id="certDescripcion"
                                  placeholder="Breve descripci√≥n de la certificaci√≥n..." style="min-height: 80px;"></textarea>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalCertificacion()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Proyecto -->
    <div id="modalProyecto" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalProyectoTitulo">Agregar Proyecto</h3>
                <button type="button" class="modal-close" onclick="cerrarModalProyecto()">√ó</button>
            </div>
            <div class="modal-body">
                <form id="formProyecto" onsubmit="guardarProyecto(event)">
                    <div class="form-group">
                        <label class="form-label required">Nombre del Proyecto</label>
                        <input type="text" class="form-input" id="proyectoNombre" required
                               placeholder="Ej: Remodelaci√≥n de cocina integral">
                    </div>

                    <div class="form-row two-cols">
                        <div class="form-group">
                            <label class="form-label required">Fecha de Realizaci√≥n</label>
                            <input type="date" class="form-input" id="proyectoFecha" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Categor√≠a</label>
                            <select class="form-input" id="proyectoCategoria">
                                <option value="">Seleccionar categor√≠a</option>
                                <!-- Se llena din√°micamente -->
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Descripci√≥n del Proyecto</label>
                        <textarea class="form-input form-textarea" id="proyectoDescripcion" required
                                  placeholder="Describe el trabajo realizado, materiales usados, duraci√≥n, etc."></textarea>
                    </div>

                    <div class="alert alert-info show">
                        ‚ÑπÔ∏è Las im√°genes y calificaciones se gestionan despu√©s de crear el proyecto
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalProyecto()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Antecedente -->
    <div id="modalAntecedente" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalAntecedenteTitulo">Agregar Antecedente</h3>
                <button type="button" class="modal-close" onclick="cerrarModalAntecedente()">√ó</button>
            </div>
            <div class="modal-body">
                <form id="formAntecedente" onsubmit="guardarAntecedente(event)">
                    <div class="form-group">
                        <label class="form-label required">Tipo de Antecedente</label>
                        <select class="form-input" id="antecedenteTipo" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="policial">Policial</option>
                            <option value="penal">Penal</option>
                            <option value="judicial">Judicial</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Fecha de Emisi√≥n</label>
                        <input type="date" class="form-input" id="antecedenteFecha">
                    </div>

                    <div class="form-group">
                        <label class="form-label required">URL del Documento</label>
                        <input type="url" class="form-input" id="antecedenteDocumento" required
                               placeholder="https://...">
                        <small style="color: var(--medium-gray);">PDF escaneado del certificado de antecedentes</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Observaciones</label>
                        <textarea class="form-input form-textarea" id="antecedenteObservaciones"
                                  placeholder="Notas adicionales..." style="min-height: 80px;"></textarea>
                    </div>

                    <div class="alert alert-warning show">
                        ‚ö†Ô∏è El antecedente ser√° verificado por un administrador antes de aparecer como verificado
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalAntecedente()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Red Social -->
    <div id="modalRedSocial" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalRedSocialTitulo">Agregar Red Social</h3>
                <button type="button" class="modal-close" onclick="cerrarModalRedSocial()">√ó</button>
            </div>
            <div class="modal-body">
                <form id="formRedSocial" onsubmit="guardarRedSocial(event)">
                    <div class="form-group">
                        <label class="form-label required">Tipo de Red Social</label>
                        <select class="form-input" id="redSocialTipo" required>
                            <option value="">Seleccionar red social</option>
                            <option value="Facebook">üìò Facebook</option>
                            <option value="Instagram">üì∑ Instagram</option>
                            <option value="LinkedIn">üíº LinkedIn</option>
                            <option value="Twitter">üê¶ Twitter</option>
                            <option value="YouTube">üìπ YouTube</option>
                            <option value="TikTok">üéµ TikTok</option>
                            <option value="WhatsApp">üì± WhatsApp Business</option>
                            <option value="Website">üåê Sitio Web</option>
                            <option value="Otros">üîó Otros</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">URL / Enlace</label>
                        <input type="url" class="form-input" id="redSocialUrl" required
                               placeholder="https://...">
                        <small style="color: var(--medium-gray);">
                            Ej: https://facebook.com/tu-perfil o https://wa.me/51999999999
                        </small>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="cerrarModalRedSocial()">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ========================================
         SCRIPTS
         ======================================== -->
    <!-- ‚úÖ API Client (con m√©todo para obtener especialidades/categor√≠as) -->
    <script src="assets/js/profesional-api.js?v=2025111707"></script>

    <!-- ‚úÖ L√≥gica del Formulario (con chips y selector de categor√≠as din√°mico + logs de diagn√≥stico) -->
    <script src="assets/js/profesional.js?v=2025111707"></script>
</body>
</html>
